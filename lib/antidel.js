const a0_0x1377b3=a0_0x147c;(function(_0x142b94,_0x52344e){const _0x51f82c=a0_0x147c,_0x29283d=_0x142b94();while(!![]){try{const _0x364d86=parseInt(_0x51f82c(0xf6))/0x1*(-parseInt(_0x51f82c(0xd7))/0x2)+parseInt(_0x51f82c(0xbf))/0x3*(parseInt(_0x51f82c(0xb2))/0x4)+parseInt(_0x51f82c(0xd0))/0x5*(parseInt(_0x51f82c(0xf5))/0x6)+-parseInt(_0x51f82c(0xbb))/0x7+-parseInt(_0x51f82c(0xcf))/0x8+-parseInt(_0x51f82c(0xb4))/0x9+parseInt(_0x51f82c(0xe6))/0xa*(-parseInt(_0x51f82c(0xaf))/0xb);if(_0x364d86===_0x52344e)break;else _0x29283d['push'](_0x29283d['shift']());}catch(_0x55b965){_0x29283d['push'](_0x29283d['shift']());}}}(a0_0x5e87,0xabf1f));function a0_0x147c(_0x245749,_0xb57f94){const _0x5e87d1=a0_0x5e87();return a0_0x147c=function(_0x147ce5,_0x50384f){_0x147ce5=_0x147ce5-0xad;let _0x2967d5=_0x5e87d1[_0x147ce5];return _0x2967d5;},a0_0x147c(_0x245749,_0xb57f94);}function a0_0x5e87(){const _0x5cd233=['messageStubType','\x0a>\x20*¬©·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö\x20 ô è\x20·¥ò·¥Ä·¥õ Ä·¥è…¥\x20T·¥á·¥Ñ úÔº∏\x20üöπ*','../config','user','length','stringify','text','remoteJid','139062yUxIYx','322419zTVlPF','ANTI_DEL_PATH','../data/antidel','conversation','223619RzZscR','*üö®\x20Message\x20Deleted*\x0a\x0a*Time:*\x20','keys','1275556Wgduqt','messages','2439567AlfRpX','subject','includes','parse','stickerMessage','update','documentMessage','2176965ZoyCdI','store','concat','*üö®\x20Message\x20Deleted\x20in\x20Group*\x0a\x0a*Time:*\x20','12AZGdtX','2-digit','env','replace','split','@g.us','from','groupMetadata','*üö®\x20Delete\x20Detected!*\x0a\x0a','unknown','\x0a\x0a*Text:*\x20','../data','Message','video','Unknown\x20content','document','47952nMLMHy','300kjdXmV','@s.whatsapp.net','sendMessage','No\x20valid\x20media\x20buffer\x20found\x20after\x20redownload\x20attempt','audioMessage','loadMessage','filter','6tWewme','participant','now','extendedTextMessage','message','audio','sticker','videoMessage','Invalid\x20media\x20type','endsWith','mimetype','imageMessage','image','messages.upsert','en-GB','200YiJqbj','get','key','toLocaleTimeString','mediaBuffer','delete','\x0a\x0a>\x20*¬©·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö\x20 ô è\x20·¥ò·¥Ä·¥õ Ä·¥è…¥\x20T·¥á·¥Ñ úÔº∏\x20üöπ*'];a0_0x5e87=function(){return _0x5cd233;};return a0_0x5e87();}const {getMessage}=require(a0_0x1377b3(0xca)),{isJidGroup,downloadContentFromMessage}=require('baileys'),{getAnti}=require(a0_0x1377b3(0xad)),config=require(a0_0x1377b3(0xef)),ANTI_DEL_PATH=process[a0_0x1377b3(0xc1)][a0_0x1377b3(0xf7)]||'log',messageCache=new Map(),MAX_CACHE_SIZE=0x3e8,cacheMessage=async(_0x4756e6,_0x5dbb77,_0x239e3d)=>{const _0xd58689=a0_0x1377b3,_0x1c0fda=_0x4756e6+':'+_0x5dbb77,_0x1bac25=JSON[_0xd58689(0xb7)](JSON['stringify'](_0x239e3d)),_0x3d360a=_0x239e3d[_0xd58689(0xdb)]&&Object[_0xd58689(0xb1)](_0x239e3d[_0xd58689(0xdb)])[0x0];if([_0xd58689(0xe2),_0xd58689(0xde),_0xd58689(0xba),_0xd58689(0xd4),_0xd58689(0xb8)][_0xd58689(0xb6)](_0x3d360a))try{const _0x59bbb3=await downloadContentFromMessage(_0x239e3d[_0xd58689(0xdb)][_0x3d360a],_0x3d360a[_0xd58689(0xc2)](_0xd58689(0xcb),''));let _0x20cae9=Buffer[_0xd58689(0xc5)]([]);for await(const _0x3b6ce5 of _0x59bbb3)_0x20cae9=Buffer[_0xd58689(0xbd)]([_0x20cae9,_0x3b6ce5]);if(_0x20cae9['length']>0x0)_0x1bac25['message'][_0x3d360a][_0xd58689(0xea)]=_0x20cae9;else return;}catch{return;}messageCache['set'](_0x1c0fda,{'message':_0x1bac25,'timestamp':Date[_0xd58689(0xd9)]()});if(messageCache['size']>MAX_CACHE_SIZE){const _0x444ae8=[...messageCache['keys']()][0x0];messageCache[_0xd58689(0xeb)](_0x444ae8);}},getFromCache=(_0x577620,_0x46a404)=>{const _0x11022b=a0_0x1377b3,_0x4865fd=_0x577620+':'+_0x46a404,_0x28a8bb=messageCache['get'](_0x4865fd);return _0x28a8bb?_0x28a8bb[_0x11022b(0xdb)]:null;},redownloadMediaBuffer=async(_0x1973bc,_0x525e87)=>{const _0x3408b3=a0_0x1377b3;try{const _0xb54b5d=Object['keys'](_0x525e87)[0x0];if(![_0x3408b3(0xe2),_0x3408b3(0xde),'documentMessage','audioMessage','stickerMessage'][_0x3408b3(0xb6)](_0xb54b5d))return null;const _0x2b23df=await downloadContentFromMessage(_0x525e87[_0xb54b5d],_0xb54b5d['replace'](_0x3408b3(0xcb),''));let _0x5931b2=Buffer[_0x3408b3(0xc5)]([]);for await(const _0x464f84 of _0x2b23df)_0x5931b2=Buffer['concat']([_0x5931b2,_0x464f84]);return _0x5931b2[_0x3408b3(0xf1)]>0x0?(_0x525e87[_0xb54b5d]['mediaBuffer']=_0x5931b2,_0x525e87):null;}catch{return null;}},DeletedText=async(_0x469284,_0xc82dae,_0x1523b2,_0x569bab,_0x353a1c,_0x57eadd)=>{const _0x551c88=a0_0x1377b3,_0x568846=_0xc82dae[_0x551c88(0xdb)]?.[_0x551c88(0xae)]||_0xc82dae['message']?.[_0x551c88(0xda)]?.[_0x551c88(0xf3)]||_0x551c88(0xcd);_0x569bab+=_0x551c88(0xc9)+_0x568846,await _0x469284[_0x551c88(0xd2)](_0x1523b2,{'text':_0x569bab,'contextInfo':{'mentionedJid':_0x353a1c?[_0x57eadd['key'][_0x551c88(0xd8)],_0xc82dae[_0x551c88(0xe8)][_0x551c88(0xd8)]]:[_0x57eadd[_0x551c88(0xe8)][_0x551c88(0xf4)]]}},{'quoted':_0xc82dae});},DeletedMedia=async(_0x239139,_0x149065,_0x55b361,_0xaf8b96)=>{const _0x52495d=a0_0x1377b3;try{const _0x49562f=JSON[_0x52495d(0xb7)](JSON[_0x52495d(0xf2)](_0x149065['message'])),_0x56be47=Object[_0x52495d(0xb1)](_0x49562f)[0x0];if(!_0x49562f[_0x56be47])throw new Error('Invalid\x20message\x20type');let _0x4e4426=_0x49562f[_0x56be47][_0x52495d(0xea)];if(!_0x4e4426||!Buffer['isBuffer'](_0x4e4426)){const _0x1c5df8=await redownloadMediaBuffer(_0x239139,_0x49562f);if(!_0x1c5df8)throw new Error(_0x52495d(0xd3));_0x4e4426=_0x1c5df8[_0x56be47][_0x52495d(0xea)];}const _0xaabebf={'imageMessage':_0x52495d(0xe3),'videoMessage':_0x52495d(0xcc),'documentMessage':_0x52495d(0xce),'audioMessage':_0x52495d(0xdc),'stickerMessage':_0x52495d(0xdd)}[_0x56be47];if(!_0xaabebf)throw new Error(_0x52495d(0xdf));await _0x239139[_0x52495d(0xd2)](_0x55b361,{[_0xaabebf]:_0x4e4426,'caption':[_0x52495d(0xe3),_0x52495d(0xcc)][_0x52495d(0xb6)](_0xaabebf)?_0xaf8b96:undefined,'mimetype':_0x49562f[_0x56be47][_0x52495d(0xe1)]},{'quoted':_0x149065}),![_0x52495d(0xe3),_0x52495d(0xcc)][_0x52495d(0xb6)](_0xaabebf)&&await _0x239139['sendMessage'](_0x55b361,{'text':_0x52495d(0xc7)+_0xaf8b96,'contextInfo':{'mentionedJid':[_0x149065[_0x52495d(0xe8)][_0x52495d(0xd8)]||_0x149065[_0x52495d(0xe8)][_0x52495d(0xf4)]][_0x52495d(0xd6)](Boolean)}},{'quoted':_0x149065});}catch(_0x1a57eb){await _0x239139[_0x52495d(0xd2)](_0x55b361,{'text':_0x52495d(0xc7)+_0xaf8b96+'\x0a\x0a_Error:\x20Could\x20not\x20recover\x20media\x20content._\x0a*Reason:*\x20'+_0x1a57eb[_0x52495d(0xdb)]+_0x52495d(0xec),'contextInfo':{'mentionedJid':[_0x149065[_0x52495d(0xe8)][_0x52495d(0xd8)]||_0x149065['key']['remoteJid']][_0x52495d(0xd6)](Boolean)}},{'quoted':_0x149065});}},AntiDelete=async(_0x53b50a,_0x411edc)=>{const _0x1e0eaf=a0_0x1377b3;_0x53b50a['ev']['on'](_0x1e0eaf(0xe4),async({messages:_0x1d33f9})=>{const _0x34fa99=_0x1e0eaf;for(const _0xe54b14 of _0x1d33f9){_0xe54b14[_0x34fa99(0xe8)]&&_0xe54b14[_0x34fa99(0xdb)]&&await cacheMessage(_0xe54b14[_0x34fa99(0xe8)][_0x34fa99(0xf4)],_0xe54b14[_0x34fa99(0xe8)]['id'],_0xe54b14);}});for(const _0x5178c7 of _0x411edc){try{if(_0x5178c7[_0x1e0eaf(0xe8)][_0x1e0eaf(0xf4)]==='status@broadcast')continue;const _0x1f3470=_0x5178c7[_0x1e0eaf(0xb9)][_0x1e0eaf(0xdb)]===null||_0x5178c7['update'][_0x1e0eaf(0xed)]===0x1;if(!_0x1f3470)continue;const _0x174bb8=_0x5178c7[_0x1e0eaf(0xe8)][_0x1e0eaf(0xf4)][_0x1e0eaf(0xe0)](_0x1e0eaf(0xc4)),_0x4987fd=await getAnti(_0x174bb8?'gc':'dm');if(!_0x4987fd)continue;const _0x1ca407=new Date()[_0x1e0eaf(0xe9)](_0x1e0eaf(0xe5),{'timeZone':'Africa/Lagos','hour':_0x1e0eaf(0xc0),'minute':_0x1e0eaf(0xc0),'second':_0x1e0eaf(0xc0)});let _0x17cc81='';if(_0x174bb8)try{const _0x53c214=await _0x53b50a[_0x1e0eaf(0xc6)](_0x5178c7[_0x1e0eaf(0xe8)][_0x1e0eaf(0xf4)]),_0x20dc2b=_0x53c214[_0x1e0eaf(0xb5)],_0x1812c3=_0x5178c7['key'][_0x1e0eaf(0xd8)]?.[_0x1e0eaf(0xc3)]('@')[0x0]||'unknown';_0x17cc81=_0x1e0eaf(0xbe)+_0x1ca407+'\x0a*Group:*\x20'+_0x20dc2b+'\x0a*Deleted\x20by:*\x20@'+_0x1812c3+_0x1e0eaf(0xee);}catch{_0x17cc81=_0x1e0eaf(0xb0)+_0x1ca407+'\x0a*In\x20Group*';}else{const _0x2a3fca=_0x5178c7[_0x1e0eaf(0xe8)][_0x1e0eaf(0xf4)]?.[_0x1e0eaf(0xc3)]('@')[0x0]||_0x1e0eaf(0xc8);_0x17cc81='*üö®\x20Message\x20Deleted\x20in\x20DM*\x0a\x0a*Time:*\x20'+_0x1ca407+'\x0a*By:*\x20@'+_0x2a3fca+'\x0a>\x20*¬©·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö\x20 ô è\x20·¥ò·¥Ä·¥õ Ä·¥è…¥\x20T·¥á·¥Ñ úÔº∏\x20üöπ*';}let _0x24e05e=getFromCache(_0x5178c7[_0x1e0eaf(0xe8)][_0x1e0eaf(0xf4)],_0x5178c7['key']['id']);if(!_0x24e05e&&_0x53b50a['store'])try{_0x24e05e=await _0x53b50a[_0x1e0eaf(0xbc)][_0x1e0eaf(0xd5)](_0x5178c7[_0x1e0eaf(0xe8)]['remoteJid'],_0x5178c7['key']['id']);}catch{}if(!_0x24e05e)_0x24e05e=await getMessage(_0x5178c7[_0x1e0eaf(0xe8)]['remoteJid'],_0x5178c7[_0x1e0eaf(0xe8)]['id']);!_0x24e05e&&_0x53b50a[_0x1e0eaf(0xb3)]?.[_0x5178c7[_0x1e0eaf(0xe8)][_0x1e0eaf(0xf4)]]&&(_0x24e05e=_0x53b50a[_0x1e0eaf(0xb3)][_0x5178c7[_0x1e0eaf(0xe8)][_0x1e0eaf(0xf4)]][_0x1e0eaf(0xe7)](_0x5178c7[_0x1e0eaf(0xe8)]['id']));if(!_0x24e05e)continue;const _0x3c3877=_0x53b50a[_0x1e0eaf(0xf0)]['id'][_0x1e0eaf(0xc3)](':')[0x0]+_0x1e0eaf(0xd1),_0x198dd7=ANTI_DEL_PATH==='same'?_0x5178c7[_0x1e0eaf(0xe8)]['remoteJid']:_0x3c3877;_0x24e05e[_0x1e0eaf(0xdb)]?.['conversation']||_0x24e05e[_0x1e0eaf(0xdb)]?.[_0x1e0eaf(0xda)]?await DeletedText(_0x53b50a,_0x24e05e,_0x198dd7,_0x17cc81,_0x174bb8,_0x5178c7):await DeletedMedia(_0x53b50a,_0x24e05e,_0x198dd7,_0x17cc81);}catch{}}};module['exports']={'DeletedText':DeletedText,'DeletedMedia':DeletedMedia,'AntiDelete':AntiDelete};